---
title: java环境常识
date: 2022-12-11 08:34:55
tags: java
categories: java
---

### 1.JVM介绍
#### 1.1 什么是JVM？
JVM是Java Virtual Machine（Java虚拟机）的简称，是一种用于计算设备的规范，是一个虚构出来的计算机，通过在实际的计算机上仿真模拟各种计算机功能来实现的。<!--more-->

#### 1.2 JVM的优点
#### 1.3 一次编写，到处运行。
JVM可以让java程序，一次编写，导出运行。让底层代码和运行环境分离开，编写好一份代码后，不用再次修改内容，只用通过安装不同的JVM环境自动进行转换即可运行，在各种系统中无缝连接。

#### 1.4 自动内存管理，垃圾回收机制。
在Java诞生之时，C和C++称霸天下，但是这两种语言中没有内存管理机制，是通过手动操作来进行的管理，非常麻烦和繁琐。

#### 1.5 数组下标越界检查
在Java诞生之时，还有个让当时C和C++大佬头疼的问题是，数组下标越界是没有检查机制的。

JVM又一次看见了大佬们的烦恼，果断提供了数组下标越界的自动检查机制，在检测到数组下标出现越界后，会在运行时自动抛出“java.lang.ArrayIndexOutOfBoundsException”这个异常，在当时可是感动了很多业界大佬（我猜的）。

#### 1.6多态
JVM还有一个多态功能，是通过相同接口，不同的实例进行实现，完成不同的业务操作，比如：定义了一个动物接口（里面有一个吃的方法），我们就可以通过这个动物创造小猫（吃鱼），再创造一个狗狗（吃肉），再创造一个小助手（吃零食，O(∩_∩)O哈哈~）。

仔细想想，对我们有啥影响呢，那好处老多了，比如：

（1）消除类型之间的耦合关系；

（2）可替换性；

（3）可扩充性；

（4）接口性；

（5）灵活性；

（6）简化性；

#### 1.7 JVM、JRE、JDK之间的关系
如图所示：
![](/img/java.png)
#### 1.8 java源代码编译、执行流程
![](/img/java1.png)
#### 1.9 jit技术
首先，我们大家都知道，通常javac将程序源代码编译，转换成java字节码，JVM通过解释字节码将其翻译成对应的机器指令，逐条读入，逐条解释翻译。很显然，经过解释执行，其执行速度必然会比可执行的二进制字节码程序慢。为了提高执行速度，引入了JIT技术。
在运行时JIT会把翻译过的机器码保存起来，已备下次使用，因此从理论上来说，采用该JIT技术可以，可以接近以前纯编译技术。下面我看看，JIT的工作过程。
JIT 编译过程当JIT编译启用时（默认是启用的），JVM读入.class文件解释后，将其发给JIT编译器。JIT编译器将字节码编译成本机机器代码我们了解了JIT的工作原理及过程，同样也发现了个问题，由于JIT对每条字节码都进行编译，造成了编译过程负担过重。为了避免这种情况，当前的JIT只对经常执行的字节码进行编译，如循环等。
需要说明的是，JIT并不总是奏效，不能期望JIT一定能够加速你代码执行的速度，更糟糕的是她有可能降低代码的执行速度。这取决于你的代码结构，当然很多情况下我们还是能够如愿以偿的。
jvm可以通过设置参数去统计模块执行的次数，对于执行次数多的模块进行特殊优化。